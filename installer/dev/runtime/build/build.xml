<project name="runtime" default="compile">

  <property name="pack.name" value="runtime"/>
  <property name="pack.version" value="5-0-0"/>
  <!-- Attention! pack.dir have to be under tmp-dir because the actual build is done there -->
  <property name="pack.dir" value="/vobs/eniq/design/plat/installer/dev/runtime"/>

  <!-- 3PP Jars -->
  <property name="3pp.ant.dir" value="/vobs/eniq/3pp/apache/ant/v1_8_1/prod"/>
  <property name="3pp.jdk_i386.dir" value="/vobs/eniq/3pp/java_sun/jdk_x86/v1_7_0_131/prod"/>
  <property name="3pp.tomcat.dir" value="/vobs/eniq/3pp/apache/tomcat/v7_0_73/prod"/>
  <!-- User database jar is ENIQ implementation of the tomcat userdatabase -->
  <property name="eniq.adminui_userdb.dir" value="/vobs/eniq/design/plat/admin_ui/build/adminui_userdb/"/>

  <target name="precompile">

    <mkdir dir="${pack.dir}/tomcat"/>
    <copy todir="${pack.dir}/tomcat">
      <fileset dir="${3pp.tomcat.dir}">
        <include name="**/apache-tomcat-7.0.73.zip"/>
      </fileset>
    </copy>

    <mkdir dir="${pack.dir}/adminui_userdb"/>
    <copy todir="${pack.dir}/adminui_userdb">
      <fileset dir="${eniq.adminui_userdb.dir}">
        <include name="**/user-database.jar"/>
      </fileset>
    </copy>
    
    <mkdir dir="${pack.dir}/ant"/>
    <copy todir="${pack.dir}/ant">
      <fileset dir="${3pp.ant.dir}">
        <include name="**/*.tar.gz"/>
      </fileset>
    </copy>

    <mkdir dir="${pack.dir}/jdk"/>
    <mkdir dir="${pack.dir}/jdk/i386"/>
    <copy todir="${pack.dir}/jdk/i386">
      <fileset dir="${3pp.jdk_i386.dir}">
        <include name="**/*.tar.gz"/>
      </fileset>
    </copy>

  </target>

  <target name="compile"/>

  <target name="postcompile">
    <mkdir dir="${pack.dir}/install"/>
    <delete dir="${pack.dir}/dclib"/>
  </target>

</project>
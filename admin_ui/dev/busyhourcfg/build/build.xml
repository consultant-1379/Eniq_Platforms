<project name="busyhourcfg" default="compile">

	<property name="pack.name" value="busyhourcfg"/>
	<property name="pack.version" value="2-5-0"/>
	<property name="pack.dir" value="/vobs/eniq/design/plat/admin_ui/dev/busyhourcfg"/>

	<!-- LIBRARY PATHS -->
	<property name="3pp.dir"        value="/vobs/eniq/3pp" />
	
	<!-- LIBRARIES USED FOR BUILDING ONLY! -->
	<property name="servlet-api.dir" value="${3pp.dir}/apache/tomcat/v7_0_14/prod" />
	<property name="velocity.dir" value="${3pp.dir}/apache/jakarta_velocity/v1_5/prod" />
	
    <!-- ENIQ Jars -->
	<property name="common.dir" value="/vobs/eniq/design/plat/common_utilities/build/common_utilities"/>
	<property name="dwhmanager.dir" value="/vobs/eniq/design/plat/management/build/dwh_manager/"/>
	<property name="licensing.dir" value="/vobs/eniq/design/plat/licensing/build/licensing/"/>
	<property name="repository.dir" value="/vobs/eniq/design/plat/installer/build/repository" />
	
	<!--3PP Jars -->
	<property name="3pp.commons_logging.dir" value="${3pp.dir}/apache/comm_logging/v1_1/prod" />
	
	<target name="precompile"/>

	<target name="compile" depends="create_war" />

	<target name="create_war" depends="compile_java">
		<war destfile="${pack.dir}/install/busyhourcfg.war" webxml="${pack.dir}/web/WEB-INF/web.xml">
			<classes dir="${pack.dir}/classes"/>
			<fileset dir="${pack.dir}/web">
				<exclude name="WEB-INF/web.xml"/>
				<exclude name="index.jsp"/>
			</fileset>	
		</war>
	</target>

	<target name="compile_java">
		<mkdir dir="${pack.dir}/classes" />
		<javac srcdir="${pack.dir}/src" destdir="${pack.dir}/classes" failonerror="true" debug="on" optimize="off" deprecation="off">
			<classpath>
				<pathelement path="${classpath}"/>
				<pathelement path="${repository.dir}/repository.jar" />
				<pathelement path="${servlet-api.dir}/servlet-api.jar" />
				<pathelement path="${velocity.dir}/velocity-dep-1.5.jar" />
				<pathelement path="${dwhmanager.dir}/dwhmanager.jar" />
				<pathelement path="${licensing.dir}/licensing.jar" />
				<pathelement path="${common.dir}/common.jar" />
				<pathelement path="${3pp.commons_logging.dir}/commons-logging-1.1.jar" />
			</classpath>
		</javac>
	</target>

	<target name="postcompile"/>

</project>
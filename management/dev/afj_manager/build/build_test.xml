<project name="afj_manager" default="test_all">
    <property file="${ant.common}/common.properties"/>
    <property name="module.base" value="${module.afj_manager.base}"/>
			
    <target name="pre_compile">
		<mkdir dir="${module.base}/classes"/>
		<mkdir dir="${module.base}/gen-src"/>
		<exec executable="xjc">
			<arg value="-d"/>
			<arg value="${module.base}/gen-src"/>
			<arg value="-p"/>
			<arg value="com.ericsson.eniq.afj.schema"/>
                        <arg value="${module.base}/xsd/oss_rc_pm_mim_PA5.xsd"/>
		</exec>
		<exec executable="xjc">
			<arg value="-d"/>
			<arg value="${module.base}/gen-src"/>
			<arg value="-p"/>
			<arg value="com.ericsson.ims.mim"/>
                        <arg value="${module.base}/xsd/pm_mim_xsd.xsd"/>
		</exec>
		<javac destdir="${module.base}/classes" debug="true">
			<src path="${module.base}/gen-src"/>
		</javac>
    </target>

    <property name="module.name" value="afj_manager"/>
    <property file="${user.home}/EniqBuild/BH/build.properties"/>
    <property name="ant.common" value="${cc.base}/tools/ant_common"/>
    <property file="${ant.common}/common.properties"/>

    <property name="module.build" value="${module.afj_manager.build}"/>
    <property name="module.dependants" value="${module.afj_manager.dependants}"/>
    <import file="${ant.common}/common.xml"/>
    <property name="tests.to.run" value="**/*Test.class"/>
	<property name="tests.to.exclude"
            value="**com/ericsson/eniq/afj/database/AFJDatabaseHandlerTest.class"/>
	
    <property name="mods.needed" value="repository, common_utilities, dwh_manager, engine, tp_ide, parser, scheduler"/>
	
	 <path id="afj_manager.lib.classpath">
	 	  <path refid="plaform.lib.classpath"/>
	 	  <path location="${module.repository.pkg}"/>
	 	  <path location="${module.common_utilities.pkg}"/>
	 	  <path location="${module.dwh_manager.pkg}"/>
	 	  <path location="${module.engine.pkg}"/>
	 	  <path location="${module.scheduler.pkg}"/>
	 	  <path location="${module.tpide_junit.pkg}"/>
	 	  <path location="${module.parser.pkg}"/>
          <path location="${module.base}/classes"/>
	 </path>
	 <path id="afj_manager.test.classpath">
	 	  <path refid="platform.test.classpath"/>
	      <path refid="afj_manager.lib.classpath"/>
	 </path>
</project>
